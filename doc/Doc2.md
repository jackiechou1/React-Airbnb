# 当前项目上下文（已完成的主要改动）

## UI / 组件库
- 已引入 `antd`，登录/注册已使用 Ant Design 表单重写。
- 已支持中英切换与明暗模式切换。

## 导航栏（Header）
- 左侧：Logo 旁新增“全部房源”，跳转到 `/entire`。
- 中间：仅保留“搜索房源输入框 + 搜索按钮”，关键词为空不跳转。
- 右侧：
  - 音乐按钮：使用本地 `src/assets/music/` 三首音频，默认音量 50%，顺序播放，播完停止（不循环）。
  - 日/夜模式：无文字，仅图标按钮。
  - 语言切换：地球图标下拉切换中/英。
  - 头像下拉：登录/注册/退出等（主题不在头像菜单内）。

## 首页（Home）
- 顶部大图：改为 4 张 Unsplash 在线图轮播（循环自动播放），并增加“日出光晕”叠层。
- “你可能想去”城市卡片：
  - 全部城市卡片可点击，跳转 `/entire?keyword=城市名`。
  - 已改为轮播循环播放（每 2 秒滚动）。
  - 卡片 hover/active 动效统一、圆角加大。
- 页面背景与区块风格：
  - 浅色大背景改为豆沙绿/灰蓝基调。
  - 首页各板块做了分区背景，并加入毛玻璃（`backdrop-filter`）与微纹理噪点。
  - 每个板块的渐变背景不相同；整体功能区底色偏莫兰迪绿，文字偏深苔藓绿。

## 全部房源页（/entire）
- 因第三方后端接口字段不支持完整筛选，已实现“mock 补全字段 + 前端筛选”方案：
  - 首次进入拉取 150 条房源缓存（作为筛选数据源）。
  - 支持人数/免费取消/闪定/房源类型/位置区域/价格等筛选，筛选结果前端分页展示。
  - 防狂点：筛选与关键词 debounce 2 秒。
  - 城市关键词通过 `mockCity` 补全保证命中（点击城市至少有结果）。

## 图片放大预览
- `RoomItem` 所在的房源卡片区域支持点击图片弹出放大预览弹层（透明关闭按钮，类似 Airbnb）。
- 已修复预览弹层不再出现蓝色底色/样式干扰，保持原图观感。

## 页脚（Footer）
- “爱彼迎/发现/出租/客服支持”等条目改为可点击外链，并保持纵向分行排版。

## 本地登录注册后端（server/）
- 已创建 `server/`：Koa2 + Prisma + PostgreSQL。
- API：`/api/auth/register|login|me|refresh|logout`。
- 前端登录/注册已改为调用本地后端（`src/services/modules/auth.js`）。
- 默认配置与操作说明写在 `Doc.md`，方案与目录说明写在 `MD1.md`。

